# Generated by Django 5.0.6 on 2025-12-16 01:07

from django.db import migrations

def seed_location_data(apps, schema_editor):
    """
    Seed location data for existing Facilities and Users.
    """
    Facility = apps.get_model("team_northcliff", "Facility")
    User = apps.get_model("team_northcliff", "User")

    # Provided coordinates for facilities
    facility_locations = {
        "ğŸ´ é£Ÿå ‚ï¼ˆã²ã°ã‚Šï¼‰": {"latitude": 34.700797551357624, "longitude": 137.40906746128755},
        "ğŸ…¿ï¸ åŒ—é§è»Šå ´": {"latitude": 34.7030802064815, "longitude": 137.40754813094193},
        "ğŸ¢ å›³æ›¸é¤¨": {"latitude": 34.70084228819001, "longitude": 137.41008130531003},
        #"â˜•ï¸ ã‚«ãƒ•ã‚§": {"latitude": 34.700938, "longitude": 137.408937},
        "ğŸšŒ ãƒã‚¹åœ": {"latitude": 34.700886, "longitude": 137.412739},
        "ğŸ‹ï¸ ã‚¸ãƒ ": {"latitude": 34.701172, "longitude": 137.406699},
    }

    for name, coords in facility_locations.items():
        Facility.objects.filter(name=name).update(latitude=coords["latitude"], longitude=coords["longitude"])

    # Provided coordinates for users
    user_locations = {
        "ç”°ä¸­å¤ªéƒ": {"latitude": 34.70079, "longitude": 137.40906},  # Near é£Ÿå ‚
        "éˆ´æœ¨èŠ±å­": {"latitude": 34.70308, "longitude": 137.40754},  # Near åŒ—é§è»Šå ´
        "ä½è—¤æ¬¡éƒ": {"latitude": 34.70084, "longitude": 137.41008},  # Near å›³æ›¸é¤¨
        "é«˜æ©‹ç¾å’²": {"latitude": 34.70093, "longitude": 137.40893},  # Near ã‚«ãƒ•ã‚§
        "ä¼Šè—¤å¥å¤ª": {"latitude": 34.716437, "longitude": 137.405312}, # Far away
    }

    for name, coords in user_locations.items():
        User.objects.filter(name=name).update(latitude=coords["latitude"], longitude=coords["longitude"])


def reverse_location_data(apps, schema_editor):
    """
    Set location data back to None.
    """
    Facility = apps.get_model("team_northcliff", "Facility")
    User = apps.get_model("team_northcliff", "User")

    Facility.objects.update(latitude=None, longitude=None)
    User.objects.update(latitude=None, longitude=None)


class Migration(migrations.Migration):

    dependencies = [
        ('team_northcliff', '0007_facility_latitude_facility_longitude_user_latitude_and_more'),
    ]

    operations = [
        migrations.RunPython(seed_location_data, reverse_location_data),
    ]