{% extends "teams/agileca/layout/split_base.html" %}
{% load static %}

{% block title %}Example{% endblock %}

{% block left %}
  {% include "teams/agileca/partials/sidebar.html" %}
{% endblock %}

{% block right %}
    
    <h2>ğŸ¢ å»ºç‰©åã§æ•™å®¤ã‚’æ¤œç´¢</h2>
    
    <form action="" method="GET" class="search-form" style="border: 1px solid #ccc; padding: 20px; border-radius: 5px; background-color: #f9f9f9;">
        
        <input 
            type="text" 
            name="q" 
            placeholder="å»ºç‰©åã¾ãŸã¯éƒ¨å±‹åã§æ¤œç´¢" 
            value="{{ query|default_if_none:'' }}"
            style="padding: 8px; width: 300px; border: 1px solid #ddd; border-radius: 4px;"
        >
        
        <button type="submit" style="padding: 8px 15px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
            æ¤œç´¢
        </button>
        
        {% if query %}
            <a href="{% url 'agileca:search_buildings' %}" style="margin-left: 10px; color: #6c757d; text-decoration: none;">
                ãƒªã‚»ãƒƒãƒˆ
            </a>
        {% endif %}
    </form>

    <hr style="margin-top: 30px; margin-bottom: 20px;">

    <hr style="margin-top: 30px; margin-bottom: 20px;">

    {% if rooms %}
        <h3>æ¤œç´¢çµæœ ({{ rooms.count }} ä»¶)</h3>
        <ul style="list-style: none; padding: 0;">
            {% for room in rooms %}
                <li style="border: 1px solid #eee; padding: 15px; margin-bottom: 10px; border-left: 5px solid #007bff; border-radius: 5px;">
                    
                    <h4>{{ room.room_name }} ({{ room.floor }}éš)</h4>
                    
                    <p><strong>å»ºç‰©:</strong> 
                        <span style="display: inline-block; background-color: #e0f7ff; color: #007bff; padding: 3px 8px; margin-right: 10px; border-radius: 12px; font-size: 0.9em;">
                            {{ room.building.name }}
                        </span>
                    </p>
                    
                    <p><strong>æ‹…å½“æ•™æˆ:</strong> 
                        {% if room.professor %}
                            <span style="display: inline-block; background-color: #ffe6e6; color: #ff4d4d; padding: 3px 8px; margin-right: 10px; border-radius: 12px; font-size: 0.9em;">
                                {{ room.professor.name }}
                            </span>
                        {% else %}
                            <span style="color: #6c757d;">æœªå®š</span>
                        {% endif %}
                    </p>
                    
                    <p><strong>ç”¨é€”:</strong> 
                        {% for attr in room.attributes.all %}
                            <span style="display: inline-block; background-color: #e6ffed; color: #28a745; padding: 3px 8px; margin-right: 5px; border-radius: 12px; font-size: 0.9em;">
                                {{ attr.name }}
                            </span>
                        {% empty %}
                            <span style="color: #6c757d;">å±æ€§ãªã—</span>
                        {% endfor %}
                    </p>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        {% endif %}
{% endblock %}