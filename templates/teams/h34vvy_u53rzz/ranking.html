{% extends 'teams/h34vvy_u53rzz/base.html' %}

{% block content %}
<header class="space-y-2">
  <p class="text-sm font-semibold uppercase tracking-wide text-blue-600">
    ポイント
  </p>
  <h1 class="text-3xl font-bold text-slate-900">ランキング</h1>
  <p class="text-sm text-slate-600">
    助けに行った回数に応じたポイントの順位です。
  </p>
</header>

<div class="overflow-hidden rounded-xl bg-white shadow">
  <table class="min-w-full divide-y divide-slate-200 text-sm">
    <thead class="bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-600">
      <tr>
        <th class="px-4 py-3">順位</th>
        <th class="px-4 py-3">ユーザー</th>
        <th class="px-4 py-3 text-right">ポイント</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-slate-100">
      {% for item in rankings %}
      {% with account=item.account rank=item.rank %}
      {% if account.user_id == current_user_id %}
      <tr class="bg-blue-50/70 font-semibold text-blue-900">
        {% else %}
      <tr>
        {% endif %}
        <td class="px-4 py-3">{{ rank }}</td>
        <td class="px-4 py-3">{{ account.username }}</td>
        <td class="px-4 py-3 text-right font-semibold">{{ account.points }} pt</td>
      </tr>
      {% endwith %}
      {% empty %}
      <tr>
        <td colspan="3" class="px-4 py-6 text-center text-slate-500">
          まだランキング対象のユーザーがいません。
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
