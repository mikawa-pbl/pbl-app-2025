{% extends "teams/shiokara/base.html" %}
{% load static %}

{% block title %}ã‚µã‚¤ãƒˆè¦æœ› - å°±æ´»æ”¯æ´ã‚µãƒ¼ãƒ“ã‚¹{% endblock %}

{% block content %}
<style>
    .tut-logo-box {
        flex: 0 0 auto;
        order: 2;
        margin-left: auto;
    }

    .tut-page-title {
        order: 1;
    }

    .tut-logo-img {
        max-height: 56px;
        width: auto;
        display: block;
    }

    .tut-page-title h1 {
        margin: 0;
        font-size: 1.8rem;
        font-weight: 600;
        color: #42413F;
    }

    .tut-page-lead {
        margin: 4px 0 0;
        font-size: 0.9rem;
        line-height: 1.6;
    }

    .form-field {
        margin-bottom: 24px;
    }

    .form-field label {
        display: block;
        margin-bottom: 6px;
        font-weight: 600;
        color: #333;
    }

    .form-field textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 1rem;
        box-sizing: border-box;
        font-family: inherit;
        resize: vertical;
    }

    .form-field textarea:focus {
        outline: none;
        border-color: #cc0000;
        box-shadow: 0 0 0 2px rgba(204, 0, 0, 0.1);
    }

    .form-field small {
        display: block;
        margin-top: 4px;
        font-size: 0.85rem;
        color: #666;
    }

    .error-message {
        background: #ffebee;
        color: #c62828;
        padding: 12px 16px;
        border-radius: 6px;
        margin-bottom: 20px;
        border-left: 4px solid #c62828;
    }

    .success-message {
        background: #e8f5e9;
        color: #2e7d32;
        padding: 16px 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        border-left: 4px solid #4caf50;
        font-weight: 600;
    }

    .info-box {
        background: #f5f7f7;
        padding: 16px;
        border-radius: 8px;
        margin-bottom: 24px;
        border-left: 4px solid #0066cc;
    }

    .info-box h3 {
        margin: 0 0 8px 0;
        font-size: 1rem;
        color: #0066cc;
    }

    .info-box p {
        margin: 0;
        font-size: 0.9rem;
        color: #555;
    }

    .form-actions {
        display: flex;
        gap: 12px;
        margin-top: 32px;
    }

    .form-actions button {
        flex: 1;
        padding: 12px 24px;
        font-size: 1rem;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.2s;
    }

    .form-actions button[type="submit"] {
        background: #cc0000;
        color: white;
    }

    .form-actions button[type="submit"]:hover {
        background: #aa0000;
    }

    .form-actions a {
        flex: 1;
        text-decoration: none;
    }

    .form-actions .back-button {
        width: 100%;
        padding: 12px 24px;
        font-size: 1rem;
        background: #f5f5f5;
        color: #333;
        border: 1px solid #ddd;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.2s;
        display: block;
        text-align: center;
    }

    .form-actions .back-button:hover {
        background: #e8e8e8;
    }

    @media (max-width: 640px) {
        .tut-page-header {
            flex-direction: column;
            align-items: flex-start;
        }
        .tut-logo-img {
            max-height: 44px;
        }
        .tut-page-title h1 {
            font-size: 1.5rem;
        }
    }
</style>

<div class="tut-page-wrapper">
    <!-- å·¦å´ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    {% include "teams/shiokara/includes/sidebar.html" with active_page='feedback' %}

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <div class="tut-main-content">
        <header class="tut-page-header page-header">
            <div class="tut-logo-box">
                <img src="{% static 'image/mark_gikanavi.png' %}"
                     alt="è±Šæ©‹æŠ€è¡“ç§‘å­¦å¤§å­¦ ãƒ­ã‚´" class="tut-logo-img">
            </div>
            <div class="tut-page-title">
                <h1>ã‚µã‚¤ãƒˆè¦æœ›ãƒ»ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</h1>
                <p class="tut-page-lead page-lead">
                    ã‚µã‚¤ãƒˆã«é–¢ã™ã‚‹è¦æœ›ã‚„ã”æ„è¦‹ã‚’ãŠèã‹ã›ãã ã•ã„ã€‚æŠ•ç¨¿ã™ã‚‹ã¨1ãƒã‚¤ãƒ³ãƒˆç²å¾—ã§ãã¾ã™ã€‚
                </p>
            </div>
        </header>

        {% if success %}
            <div class="success-message">
                âœ… ã”æ„è¦‹ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼1ãƒã‚¤ãƒ³ãƒˆã‚’ç²å¾—ã—ã¾ã—ãŸã€‚
            </div>
        {% endif %}

        {% if error %}
            <div class="error-message">{{ error }}</div>
        {% endif %}

        <div class="info-box">
            <h3>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆç²å¾—ã«ã¤ã„ã¦</h3>
            <p>
                ã‚µã‚¤ãƒˆã¸ã®è¦æœ›ã‚’æŠ•ç¨¿ã™ã‚‹ã¨ã€<strong>1ãƒã‚¤ãƒ³ãƒˆ</strong>ã‚’ç²å¾—ã§ãã¾ã™ã€‚<br>
                ã“ã‚Œã¾ã§ã«æŠ•ç¨¿ã—ãŸè¦æœ›: <strong>{{ feedback_count }}ä»¶</strong>
            </p>
        </div>

        <form method="post" style="max-width: 800px; margin-top: 24px;">
            {% csrf_token %}

            <div class="form-field">
                <label for="id_feedback_text">ã‚µã‚¤ãƒˆã«é–¢ã™ã‚‹è¦æœ›ãƒ»ã”æ„è¦‹:</label>
                <textarea name="feedback_text" id="id_feedback_text" rows="8" required placeholder="ä¾‹: ä¼æ¥­æ¯”è¼ƒæ©Ÿèƒ½ãŒã‚ã‚‹ã¨ä¾¿åˆ©ã§ã™ã€‚&#10;ä¾‹: æ¤œç´¢æ©Ÿèƒ½ã‚’ã‚‚ã£ã¨å……å®Ÿã•ã›ã¦ã»ã—ã„ã€‚&#10;ä¾‹: ã‚¹ãƒãƒ›ã§è¦‹ã‚„ã™ãã—ã¦ã»ã—ã„ã€‚"></textarea>
                <small>â€» 10æ–‡å­—ä»¥ä¸Šå…¥åŠ›ã—ã¦ãã ã•ã„ã€‚å…·ä½“çš„ãªã”æ„è¦‹ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚</small>
            </div>

            <div class="form-actions">
                <button type="submit">æŠ•ç¨¿ã—ã¦1ãƒã‚¤ãƒ³ãƒˆç²å¾—</button>
                <a href="{% url 'shiokara:my_page' %}">
                    <span class="back-button">ãƒã‚¤ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</span>
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
