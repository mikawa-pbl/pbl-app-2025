{# teams/ssk/post_form.html #}
{% if post %}
  <h1>投稿を編集</h1>
{% else %}
  <h1>新規投稿</h1>
{% endif %}

<form method="post">
  {% csrf_token %}

{% if form.errors %}
  <div style="color:red; margin-bottom: 1em;">
    {% for field in form %}
      {% for error in field.errors %}
        <div>{{ field.label }}: {{ error }}</div>
      {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
      <div>{{ error }}</div>
    {% endfor %}
  </div>
{% endif %}

<p>
  {{ form.title.label_tag }}<br>
  {{ form.title }}
</p>

<p>
  {{ form.date.label_tag }}<br>
  {{ form.date }}
  <small>（任意）</small>
</p>

{# password: only shown when creating a new post (cannot change later) #}
{% if not post %}
<p>
  {{ form.password.label_tag }}<br>
  {{ form.password }}
  <small>（任意：作成時のみ設定）</small>
</p>
{% endif %}

<p>
  {{ form.start_time.label_tag }}<br>
  {{ form.start_time }}
  <small>（任意）</small>
  〜
  {{ form.end_time.label_tag }}<br>
  {{ form.end_time }}
  <small>（任意）</small>
</p>

<p>
  {{ form.body.label_tag }}<br>
  {{ form.body }}
</p>

<p>
  {{ form.tags_text.label_tag }}<br>
  {{ form.tags_text }}
</p>

<button type="submit">{% if post %}更新{% else %}投稿{% endif %}</button>
<input type="button" value="一覧へ戻る" onclick="location.href='{% url 'ssk:post_list' %}'">
</form>