{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>マイページ</title>
    <link rel="stylesheet" href="{% static 'team_shouronpou/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'team_shouronpou/css/schedule.css' %}">
</head>
<body class="app-page">

<div class="container">
    <h2>マイページ</h2>

    <div class="profile-card">
        <h3 class="section-title">基本情報</h3>
        
        <div class="profile-item">
            <span class="profile-label">ユーザー名</span>
            <span class="profile-value">{{ user.username }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">所属</span>
            <span class="profile-value">{{ user.affiliation|default:"-" }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">年齢</span>
            <span class="profile-value">{{ user.age|default:"-" }} 歳</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">性別</span>
            <span class="profile-value">{{ user.get_gender_display|default:"-" }}</span>
        </div>
        <div class="profile-item">
            <span class="profile-label">国籍</span>
            <span class="profile-value">{{ user.nationality|default:"-" }}</span>
        </div>
    </div>

    <div class="profile-card">
        <h3 class="section-title">実験参加の希望条件</h3>
        
        
        <div class="profile-item">
            <span class="profile-label">許容所要時間</span>
            <span class="profile-value">
                {% if user.desired_max_time %}
                    最大 {{ user.desired_max_time }} 分まで
                {% else %}
                    特に指定なし
                {% endif %}
            </span>
        </div>
        
        <div style="margin-top: 15px;">
            <span class="profile-label" style="margin-bottom:10px; display:block;">参加可能時間帯</span>
            
            <input type="hidden" id="user_slots_data" value="{{ user.available_slots }}">
            
            <div class="schedule-container-view">
                <div class="schedule-grid-view" id="viewGrid"></div>
            </div>
        </div>
    </div>

    <div style="margin-top: 20px; text-align: center;">
        <a href="{% url 'team_shouronpou:profile_edit' %}" class="btn-edit">プロフィールを編集する</a>
        <a href="{% url 'team_shouronpou:post_list' %}" class="btn-back">掲示板に戻る</a>
    </div>
</div>

<script src="{% static 'team_shouronpou/js/schedule_viewer.js' %}"></script>

</body>
</html>